{"level":"error","message":"Unable to start server: Access denied for user 'root'@'localhost' (using password: YES)","name":"SequelizeAccessDeniedError","original":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'localhost' (using password: YES)","sqlState":"28000"},"parent":{"code":"ER_ACCESS_DENIED_ERROR","errno":1045,"sqlMessage":"Access denied for user 'root'@'localhost' (using password: YES)","sqlState":"28000"},"service":"course-allocation-system","stack":"SequelizeAccessDeniedError: Access denied for user 'root'@'localhost' (using password: YES)\n    at ConnectionManager.connect (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\mysql\\connection-manager.js:94:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ConnectionManager._connect (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\connection-manager.js:222:24)\n    at async F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\connection-manager.js:174:32\n    at async ConnectionManager.getConnection (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\connection-manager.js:197:7)\n    at async F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:305:26\n    at async Sequelize.authenticate (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:457:5)\n    at async startServer (F:\\Downloads\\Claude's work\\server.js:52:5)","timestamp":"2025-08-13T20:28:41.404Z"}
{"level":"error","message":"Unable to start server: Unknown database 'course_allocation_system'","name":"SequelizeConnectionError","original":{"code":"ER_BAD_DB_ERROR","errno":1049,"sqlMessage":"Unknown database 'course_allocation_system'","sqlState":"42000"},"parent":{"code":"ER_BAD_DB_ERROR","errno":1049,"sqlMessage":"Unknown database 'course_allocation_system'","sqlState":"42000"},"service":"course-allocation-system","stack":"SequelizeConnectionError: Unknown database 'course_allocation_system'\n    at ConnectionManager.connect (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\mysql\\connection-manager.js:102:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ConnectionManager._connect (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\connection-manager.js:222:24)\n    at async F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\connection-manager.js:174:32\n    at async ConnectionManager.getConnection (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\connection-manager.js:197:7)\n    at async F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:305:26\n    at async Sequelize.authenticate (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:457:5)\n    at async startServer (F:\\Downloads\\Claude's work\\server.js:52:5)","timestamp":"2025-08-13T20:33:42.360Z"}
{"level":"info","message":"Database connection established successfully","service":"course-allocation-system","timestamp":"2025-08-13T20:43:07.566Z"}
{"level":"error","message":"Unable to start server: Identifier name 'course_offerings_module_id_cohort_id_class_id_trimester_intake_period' is too long","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `course_offerings` ADD UNIQUE INDEX `course_offerings_module_id_cohort_id_class_id_trimester_intake_period` (`moduleId`, `cohortId`, `classId`, `trimester`, `intakePeriod`)","sqlMessage":"Identifier name 'course_offerings_module_id_cohort_id_class_id_trimester_intake_period' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `course_offerings` ADD UNIQUE INDEX `course_offerings_module_id_cohort_id_class_id_trimester_intake_period` (`moduleId`, `cohortId`, `classId`, `trimester`, `intakePeriod`)","sqlMessage":"Identifier name 'course_offerings_module_id_cohort_id_class_id_trimester_intake_period' is too long","sqlState":"42000"},"service":"course-allocation-system","sql":"ALTER TABLE `course_offerings` ADD UNIQUE INDEX `course_offerings_module_id_cohort_id_class_id_trimester_intake_period` (`moduleId`, `cohortId`, `classId`, `trimester`, `intakePeriod`)","stack":"Error\n    at Query.run (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addIndex (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:250:12)\n    at async CourseOffering.sync (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:999:7)\n    at async Sequelize._syncModelsWithCyclicReferences (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async startServer (F:\\Downloads\\Claude's work\\server.js:57:7)","timestamp":"2025-08-13T20:43:10.371Z"}
{"level":"info","message":"Database connection established successfully","service":"course-allocation-system","timestamp":"2025-08-13T20:48:08.935Z"}
{"level":"error","message":"Unable to start server: Failed to open the referenced table 'modules'","name":"SequelizeDatabaseError","original":{"code":"ER_FK_CANNOT_OPEN_PARENT","errno":1824,"sql":"ALTER TABLE `course_offerings` ADD FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE;","sqlMessage":"Failed to open the referenced table 'modules'","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_CANNOT_OPEN_PARENT","errno":1824,"sql":"ALTER TABLE `course_offerings` ADD FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE;","sqlMessage":"Failed to open the referenced table 'modules'","sqlState":"HY000"},"service":"course-allocation-system","sql":"ALTER TABLE `course_offerings` ADD FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE;","stack":"Error\n    at Query.run (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CourseOffering.sync (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async startServer (F:\\Downloads\\Claude's work\\server.js:57:7)","timestamp":"2025-08-13T20:48:15.891Z"}
{"level":"info","message":"Database connection established successfully","service":"course-allocation-system","timestamp":"2025-08-13T20:55:22.162Z"}
{"level":"info","message":"Database synchronized (all tables recreated)","service":"course-allocation-system","timestamp":"2025-08-13T20:55:32.248Z"}
{"level":"info","message":"Notification jobs scheduled","service":"course-allocation-system","timestamp":"2025-08-13T20:55:32.251Z"}
{"level":"info","message":"Server is running on port 3000","service":"course-allocation-system","timestamp":"2025-08-13T20:55:32.534Z"}
{"level":"info","message":"Database connection established successfully","service":"course-allocation-system","timestamp":"2025-08-13T21:04:00.774Z"}
{"level":"info","message":"Database synchronized (all tables recreated)","service":"course-allocation-system","timestamp":"2025-08-13T21:04:10.396Z"}
{"level":"info","message":"Notification jobs scheduled","service":"course-allocation-system","timestamp":"2025-08-13T21:04:10.398Z"}
{"level":"info","message":"Server is running on port 3000","service":"course-allocation-system","timestamp":"2025-08-13T21:04:10.628Z"}
{"level":"info","message":"Database connection established successfully","service":"course-allocation-system","timestamp":"2025-08-13T21:14:53.573Z"}
{"level":"info","message":"Database synchronized (all tables recreated)","service":"course-allocation-system","timestamp":"2025-08-13T21:15:04.236Z"}
{"level":"info","message":"Notification jobs scheduled","service":"course-allocation-system","timestamp":"2025-08-13T21:15:04.238Z"}
{"level":"info","message":"Server is running on port 3000","service":"course-allocation-system","timestamp":"2025-08-13T21:15:04.463Z"}
{"level":"info","message":"Database connection established successfully","service":"course-allocation-system","timestamp":"2025-08-13T21:24:42.879Z"}
{"level":"info","message":"Database synchronized (all tables recreated)","service":"course-allocation-system","timestamp":"2025-08-13T21:24:57.448Z"}
{"level":"info","message":"Notification jobs scheduled","service":"course-allocation-system","timestamp":"2025-08-13T21:24:57.451Z"}
{"level":"info","message":"Server is running on port 3000","service":"course-allocation-system","timestamp":"2025-08-13T21:24:58.501Z"}
{"level":"error","message":"Registration error: Illegal arguments: undefined, number","service":"course-allocation-system","stack":"Error: Illegal arguments: undefined, number\n    at _async (F:\\Downloads\\Claude's work\\node_modules\\bcryptjs\\dist\\bcrypt.js:214:46)\n    at F:\\Downloads\\Claude's work\\node_modules\\bcryptjs\\dist\\bcrypt.js:223:17\n    at new Promise (<anonymous>)\n    at bcrypt.hash (F:\\Downloads\\Claude's work\\node_modules\\bcryptjs\\dist\\bcrypt.js:222:20)\n    at register (F:\\Downloads\\Claude's work\\controllers\\authController.js:62:41)\n    at Layer.handle [as handle_request] (F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-08-14T10:38:59.537Z"}
{"level":"error","message":"Registration error: Illegal arguments: undefined, number","service":"course-allocation-system","stack":"Error: Illegal arguments: undefined, number\n    at _async (F:\\Downloads\\Claude's work\\node_modules\\bcryptjs\\dist\\bcrypt.js:214:46)\n    at F:\\Downloads\\Claude's work\\node_modules\\bcryptjs\\dist\\bcrypt.js:223:17\n    at new Promise (<anonymous>)\n    at bcrypt.hash (F:\\Downloads\\Claude's work\\node_modules\\bcryptjs\\dist\\bcrypt.js:222:20)\n    at register (F:\\Downloads\\Claude's work\\controllers\\authController.js:62:41)\n    at Layer.handle [as handle_request] (F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\Downloads\\Claude's work\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-08-14T10:40:21.703Z"}
{"errors":[{"instance":{"createdAt":"2025-08-14T10:40:53.312Z","id":null,"isActive":true,"password":"$2a$12$Lbk6RGNQLf4Lqad7ihT7ueL5fSqYhTtkly..4Ud//Qi7bCWngAKnq","updatedAt":"2025-08-14T10:40:53.312Z"},"message":"Facilitator.firstName cannot be null","origin":"CORE","path":"firstName","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null},{"instance":{"createdAt":"2025-08-14T10:40:53.312Z","id":null,"isActive":true,"password":"$2a$12$Lbk6RGNQLf4Lqad7ihT7ueL5fSqYhTtkly..4Ud//Qi7bCWngAKnq","updatedAt":"2025-08-14T10:40:53.312Z"},"message":"Facilitator.lastName cannot be null","origin":"CORE","path":"lastName","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null},{"instance":{"createdAt":"2025-08-14T10:40:53.312Z","id":null,"isActive":true,"password":"$2a$12$Lbk6RGNQLf4Lqad7ihT7ueL5fSqYhTtkly..4Ud//Qi7bCWngAKnq","updatedAt":"2025-08-14T10:40:53.312Z"},"message":"Facilitator.email cannot be null","origin":"CORE","path":"email","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null}],"level":"error","message":"Registration error: notNull Violation: Facilitator.firstName cannot be null,\nnotNull Violation: Facilitator.lastName cannot be null,\nnotNull Violation: Facilitator.email cannot be null","name":"SequelizeValidationError","service":"course-allocation-system","stack":"SequelizeValidationError: notNull Violation: Facilitator.firstName cannot be null,\nnotNull Violation: Facilitator.lastName cannot be null,\nnotNull Violation: Facilitator.email cannot be null\n    at InstanceValidator._validate (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at async InstanceValidator._validateAndRunHooks (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async Facilitator.create (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async register (F:\\Downloads\\Claude's work\\controllers\\authController.js:74:14)","timestamp":"2025-08-14T10:40:53.366Z"}
{"errors":[{"instance":{"createdAt":"2025-08-14T10:40:56.820Z","id":null,"isActive":true,"password":"$2a$12$eOTjhOgjVMS.M8LrlXknW.OICyIyVPgRMVegBfTxkqe3kIiy6.R6W","updatedAt":"2025-08-14T10:40:56.820Z"},"message":"Facilitator.firstName cannot be null","origin":"CORE","path":"firstName","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null},{"instance":{"createdAt":"2025-08-14T10:40:56.820Z","id":null,"isActive":true,"password":"$2a$12$eOTjhOgjVMS.M8LrlXknW.OICyIyVPgRMVegBfTxkqe3kIiy6.R6W","updatedAt":"2025-08-14T10:40:56.820Z"},"message":"Facilitator.lastName cannot be null","origin":"CORE","path":"lastName","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null},{"instance":{"createdAt":"2025-08-14T10:40:56.820Z","id":null,"isActive":true,"password":"$2a$12$eOTjhOgjVMS.M8LrlXknW.OICyIyVPgRMVegBfTxkqe3kIiy6.R6W","updatedAt":"2025-08-14T10:40:56.820Z"},"message":"Facilitator.email cannot be null","origin":"CORE","path":"email","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null}],"level":"error","message":"Registration error: notNull Violation: Facilitator.firstName cannot be null,\nnotNull Violation: Facilitator.lastName cannot be null,\nnotNull Violation: Facilitator.email cannot be null","name":"SequelizeValidationError","service":"course-allocation-system","stack":"SequelizeValidationError: notNull Violation: Facilitator.firstName cannot be null,\nnotNull Violation: Facilitator.lastName cannot be null,\nnotNull Violation: Facilitator.email cannot be null\n    at InstanceValidator._validate (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at async InstanceValidator._validateAndRunHooks (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async Facilitator.create (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async register (F:\\Downloads\\Claude's work\\controllers\\authController.js:74:14)","timestamp":"2025-08-14T10:40:56.822Z"}
{"level":"info","message":"New manager registered: yvette@example.com","service":"course-allocation-system","timestamp":"2025-08-14T10:44:34.758Z"}
{"level":"info","message":"User yvette@example.com logged in successfully as manager","service":"course-allocation-system","timestamp":"2025-08-14T11:18:20.624Z"}
{"level":"info","message":"New facilitator registered: yzzy@example.com","service":"course-allocation-system","timestamp":"2025-08-14T11:20:26.397Z"}
{"level":"info","message":"User yzzy@example.com logged in successfully as facilitator","service":"course-allocation-system","timestamp":"2025-08-14T11:23:35.025Z"}
{"fields":["moduleId"],"index":"course_offerings_ibfk_1","level":"error","message":"Create course offering error: Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:11:17","2025-08-14 12:11:17"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:11:17","2025-08-14 12:11:17"],"parent":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:11:17","2025-08-14 12:11:17"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"reltype":"child","service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\Claude's work\\controllers\\courseOfferingController.js:12:28)","table":"modules","timestamp":"2025-08-14T12:11:18.379Z","value":1}
{"level":"info","message":"User yvette@example.com logged in successfully as manager","service":"course-allocation-system","timestamp":"2025-08-14T12:15:38.902Z"}
{"fields":["moduleId"],"index":"course_offerings_ibfk_1","level":"error","message":"Create course offering error: Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:16:42","2025-08-14 12:16:42"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:16:42","2025-08-14 12:16:42"],"parent":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:16:42","2025-08-14 12:16:42"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"reltype":"child","service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\Claude's work\\controllers\\courseOfferingController.js:12:28)","table":"modules","timestamp":"2025-08-14T12:16:43.264Z","value":1}
{"fields":["moduleId"],"index":"course_offerings_ibfk_1","level":"error","message":"Create course offering error: Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:20:12","2025-08-14 12:20:12"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:20:12","2025-08-14 12:20:12"],"parent":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:20:12","2025-08-14 12:20:12"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"reltype":"child","service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\Claude's work\\controllers\\courseOfferingController.js:12:28)","table":"modules","timestamp":"2025-08-14T12:20:12.170Z","value":1}
{"fields":["moduleId"],"index":"course_offerings_ibfk_1","level":"error","message":"Create course offering error: Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:20:55","2025-08-14 12:20:55"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:20:55","2025-08-14 12:20:55"],"parent":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"Trimester 1","HT1","2025-01-01 00:00:00","2025-02-01 00:00:00",30,1,true,"2025-08-14 12:20:55","2025-08-14 12:20:55"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"reltype":"child","service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\Claude's work\\controllers\\courseOfferingController.js:12:28)","table":"modules","timestamp":"2025-08-14T12:20:55.186Z","value":1}
{"level":"info","message":"User yvette@example.com logged in successfully as manager","service":"course-allocation-system","timestamp":"2025-08-14T12:40:01.332Z"}
{"fields":["moduleId"],"index":"course_offerings_ibfk_1","level":"error","message":"Create course offering error: Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"T1","FT","2025-09-01 00:00:00","2025-12-01 00:00:00",35,1,true,"2025-08-14 12:42:47","2025-08-14 12:42:47"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"parameters":[1,1,1,1,1,"T1","FT","2025-09-01 00:00:00","2025-12-01 00:00:00",35,1,true,"2025-08-14 12:42:47","2025-08-14 12:42:47"],"parent":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[1,1,1,1,1,"T1","FT","2025-09-01 00:00:00","2025-12-01 00:00:00",35,1,true,"2025-08-14 12:42:47","2025-08-14 12:42:47"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_1` FOREIGN KEY (`moduleId`) REFERENCES `modules` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"reltype":"child","service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\Claude's work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\Claude's work\\controllers\\courseOfferingController.js:12:28)","table":"modules","timestamp":"2025-08-14T12:42:47.674Z","value":1}
{"level":"info","message":"New manager registered: alice.manager@example.com","service":"course-allocation-system","timestamp":"2025-08-14T18:30:50.170Z"}
{"level":"info","message":"New facilitator registered: bob.facilitator@example.com","service":"course-allocation-system","timestamp":"2025-08-14T18:31:55.571Z"}
{"level":"info","message":"User alice.manager@example.com logged in successfully as manager","service":"course-allocation-system","timestamp":"2025-08-14T18:37:10.741Z"}
{"courseOfferingId":6,"level":"info","message":"Course offering created by manager 2","service":"course-allocation-system","timestamp":"2025-08-14T18:47:37.638Z"}
{"level":"info","message":"New facilitator registered: keke@example.com","service":"course-allocation-system","timestamp":"2025-08-14T19:30:53.695Z"}
{"level":"info","message":"New manager registered: kethia@example.com","service":"course-allocation-system","timestamp":"2025-08-14T19:44:49.080Z"}
{"level":"info","message":"New facilitator registered: kwizera@example.com","service":"course-allocation-system","timestamp":"2025-08-14T19:46:04.574Z"}
{"level":"info","message":"User kethia@example.com logged in successfully as manager","service":"course-allocation-system","timestamp":"2025-08-14T19:47:09.623Z"}
{"courseOfferingId":7,"level":"info","message":"Course offering created by manager 3","service":"course-allocation-system","timestamp":"2025-08-14T19:52:09.810Z"}
{"errors":[{"instance":{"classId":2,"cohortId":2,"createdAt":"2025-08-14T19:56:56.358Z","createdBy":3,"endDate":"2025-03-01T00:00:00.000Z","facilitatorId":2,"id":null,"intakePeriod":"HT1","isActive":true,"maxStudents":30,"modeId":2,"moduleId":2,"startDate":"2025-02-01T00:00:00.000Z","trimester":"T1","updatedAt":"2025-08-14T19:56:56.358Z"},"message":"course_offerings_unique_idx must be unique","origin":"DB","path":"course_offerings_unique_idx","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"2-2-2-T1-HT1"}],"fields":{"course_offerings_unique_idx":"2-2-2-T1-HT1"},"level":"error","message":"Create course offering error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[2,2,2,2,2,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,3,true,"2025-08-14 19:56:56","2025-08-14 19:56:56"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Duplicate entry '2-2-2-T1-HT1' for key 'course_offerings.course_offerings_unique_idx'","sqlState":"23000"},"parent":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[2,2,2,2,2,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,3,true,"2025-08-14 19:56:56","2025-08-14 19:56:56"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Duplicate entry '2-2-2-T1-HT1' for key 'course_offerings.course_offerings_unique_idx'","sqlState":"23000"},"service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\work\\controllers\\courseOfferingController.js:12:28)","timestamp":"2025-08-14T19:56:56.624Z"}
{"courseOfferingId":9,"level":"info","message":"Course offering created by manager 3","service":"course-allocation-system","timestamp":"2025-08-14T19:57:12.858Z"}
{"errors":[{"instance":{"ActivityTrackerId":null,"classId":2,"cohortId":2,"createdAt":"2025-08-14T19:52:09.000Z","createdBy":3,"endDate":"2025-03-01T00:00:00.000Z","facilitatorId":2,"id":7,"intakePeriod":"HT1","isActive":true,"maxStudents":40,"modeId":2,"moduleId":1,"startDate":"2025-02-01T00:00:00.000Z","trimester":"T1","updatedAt":"2025-08-14T19:58:34.678Z"},"message":"course_offerings_unique_idx must be unique","origin":"DB","path":"course_offerings_unique_idx","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"1-2-2-T1-HT1"}],"fields":{"course_offerings_unique_idx":"1-2-2-T1-HT1"},"level":"error","message":"Update course offering error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[1,2,40,"2025-08-14 19:58:34",7],"sql":"UPDATE `course_offerings` SET `moduleId`=?,`facilitatorId`=?,`maxStudents`=?,`updatedAt`=? WHERE `id` = ?","sqlMessage":"Duplicate entry '1-2-2-T1-HT1' for key 'course_offerings.course_offerings_unique_idx'","sqlState":"23000"},"parent":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[1,2,40,"2025-08-14 19:58:34",7],"sql":"UPDATE `course_offerings` SET `moduleId`=?,`facilitatorId`=?,`maxStudents`=?,`updatedAt`=? WHERE `id` = ?","sqlMessage":"Duplicate entry '1-2-2-T1-HT1' for key 'course_offerings.course_offerings_unique_idx'","sqlState":"23000"},"service":"course-allocation-system","sql":"UPDATE `course_offerings` SET `moduleId`=?,`facilitatorId`=?,`maxStudents`=?,`updatedAt`=? WHERE `id` = ?","stack":"Error\n    at Query.run (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.update (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:355:12)\n    at async model.save (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async model.update (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:2598:12)\n    at async updateCourseOffering (F:\\Downloads\\work\\controllers\\courseOfferingController.js:143:5)","timestamp":"2025-08-14T19:58:34.875Z"}
{"level":"info","message":"Course offering 9 updated by manager 3","service":"course-allocation-system","timestamp":"2025-08-14T19:59:08.849Z"}
{"level":"info","message":"New manager registered: yvan@example.com","service":"course-allocation-system","timestamp":"2025-08-14T20:06:53.351Z"}
{"level":"info","message":"New facilitator registered: mark@example.com","service":"course-allocation-system","timestamp":"2025-08-14T20:07:47.942Z"}
{"level":"info","message":"User yvan@example.com logged in successfully as manager","service":"course-allocation-system","timestamp":"2025-08-14T20:08:37.962Z"}
{"errors":[{"instance":{"createdAt":"2025-08-14T20:11:19.342Z","description":"Remote delivery","id":null,"modeName":"Online","updatedAt":"2025-08-14T20:11:19.342Z"},"message":"modeName must be unique","origin":"DB","path":"modeName","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"Online"}],"fields":{"modeName":"Online"},"level":"error","message":"Create mode error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":["Online","Remote delivery","2025-08-14 20:11:19","2025-08-14 20:11:19"],"sql":"INSERT INTO `modes` (`id`,`modeName`,`description`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?);","sqlMessage":"Duplicate entry 'Online' for key 'modes.modeName'","sqlState":"23000"},"parent":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":["Online","Remote delivery","2025-08-14 20:11:19","2025-08-14 20:11:19"],"sql":"INSERT INTO `modes` (`id`,`modeName`,`description`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?);","sqlMessage":"Duplicate entry 'Online' for key 'modes.modeName'","sqlState":"23000"},"service":"course-allocation-system","sql":"INSERT INTO `modes` (`id`,`modeName`,`description`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async Mode.create (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createMode (F:\\Downloads\\work\\controllers\\modeController.js:8:21)","timestamp":"2025-08-14T20:11:19.540Z"}
{"courseOfferingId":10,"level":"info","message":"Course offering created by manager 4","service":"course-allocation-system","timestamp":"2025-08-14T20:13:29.276Z"}
{"level":"info","message":"Course offering 10 updated by manager 4","service":"course-allocation-system","timestamp":"2025-08-14T20:15:40.586Z"}
{"level":"info","message":"Course offering 7 deleted by manager 4","service":"course-allocation-system","timestamp":"2025-08-14T20:16:02.359Z"}
{"level":"info","message":"User mark@example.com logged in successfully as facilitator","service":"course-allocation-system","timestamp":"2025-08-14T20:18:09.335Z"}
{"level":"error","message":"Create activity tracker error: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","service":"course-allocation-system","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (F:\\Downloads\\work\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:343:12)","timestamp":"2025-08-14T20:29:21.529Z"}
{"errors":[{"instance":{"allocationId":10,"attendance":[true,true,false,true],"courseModeration":"Pending","createdAt":"2025-08-14T20:32:33.341Z","formativeOneGrading":"Pending","formativeTwoGrading":"Not Started","gradeBookStatus":"Not Started","id":null,"intranetSync":"Not Started","notes":"Week 1 kickoff complete","submittedAt":"2025-08-14T20:32:33.334Z","summativeGrading":"Not Started","updatedAt":"2025-08-14T20:32:33.341Z","weekNumber":1},"message":"activity_trackers_allocation_id_week_number must be unique","origin":"DB","path":"activity_trackers_allocation_id_week_number","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"10-1"}],"fields":{"activity_trackers_allocation_id_week_number":"10-1"},"level":"error","message":"Create activity tracker error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[10,1,"[true,true,false,true]","Pending","Not Started","Not Started","Pending","Not Started","Not Started","2025-08-14 20:32:33","Week 1 kickoff complete","2025-08-14 20:32:33","2025-08-14 20:32:33"],"sql":"INSERT INTO `activity_trackers` (`id`,`allocationId`,`weekNumber`,`attendance`,`formativeOneGrading`,`formativeTwoGrading`,`summativeGrading`,`courseModeration`,`intranetSync`,`gradeBookStatus`,`submittedAt`,`notes`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Duplicate entry '10-1' for key 'activity_trackers.activity_trackers_allocation_id_week_number'","sqlState":"23000"},"parent":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[10,1,"[true,true,false,true]","Pending","Not Started","Not Started","Pending","Not Started","Not Started","2025-08-14 20:32:33","Week 1 kickoff complete","2025-08-14 20:32:33","2025-08-14 20:32:33"],"sql":"INSERT INTO `activity_trackers` (`id`,`allocationId`,`weekNumber`,`attendance`,`formativeOneGrading`,`formativeTwoGrading`,`summativeGrading`,`courseModeration`,`intranetSync`,`gradeBookStatus`,`submittedAt`,`notes`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Duplicate entry '10-1' for key 'activity_trackers.activity_trackers_allocation_id_week_number'","sqlState":"23000"},"service":"course-allocation-system","sql":"INSERT INTO `activity_trackers` (`id`,`allocationId`,`weekNumber`,`attendance`,`formativeOneGrading`,`formativeTwoGrading`,`summativeGrading`,`courseModeration`,`intranetSync`,`gradeBookStatus`,`submittedAt`,`notes`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async ActivityTracker.create (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createActivityTracker (F:\\Downloads\\work\\controllers\\activityTrackerController.js:21:29)","timestamp":"2025-08-14T20:32:33.535Z"}
{"level":"error","message":"Create activity tracker error: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","service":"course-allocation-system","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (F:\\Downloads\\work\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:343:12)","timestamp":"2025-08-14T20:36:52.136Z"}
{"level":"info","message":"New manager registered: ykwizera@example.com","service":"course-allocation-system","timestamp":"2025-08-14T20:55:47.404Z"}
{"level":"info","message":"New facilitator registered: byusa@example.com","service":"course-allocation-system","timestamp":"2025-08-14T20:56:43.414Z"}
{"level":"info","message":"User ykwizera@example.com logged in successfully as manager","service":"course-allocation-system","timestamp":"2025-08-14T20:57:55.731Z"}
{"errors":[{"instance":{"classId":2,"cohortId":2,"createdAt":"2025-08-14T20:59:51.713Z","createdBy":5,"endDate":"2025-03-01T00:00:00.000Z","facilitatorId":2,"id":null,"intakePeriod":"HT1","isActive":true,"maxStudents":30,"modeId":1,"moduleId":2,"startDate":"2025-02-01T00:00:00.000Z","trimester":"T1","updatedAt":"2025-08-14T20:59:51.713Z"},"message":"course_offerings_unique_idx must be unique","origin":"DB","path":"course_offerings_unique_idx","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"2-2-2-T1-HT1"}],"fields":{"course_offerings_unique_idx":"2-2-2-T1-HT1"},"level":"error","message":"Create course offering error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[2,2,2,2,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 20:59:51","2025-08-14 20:59:51"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Duplicate entry '2-2-2-T1-HT1' for key 'course_offerings.course_offerings_unique_idx'","sqlState":"23000"},"parent":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[2,2,2,2,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 20:59:51","2025-08-14 20:59:51"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Duplicate entry '2-2-2-T1-HT1' for key 'course_offerings.course_offerings_unique_idx'","sqlState":"23000"},"service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\work\\controllers\\courseOfferingController.js:12:28)","timestamp":"2025-08-14T20:59:51.960Z"}
{"errors":[{"instance":{"classId":2,"cohortId":2,"createdAt":"2025-08-14T21:00:04.875Z","createdBy":5,"endDate":"2025-03-01T00:00:00.000Z","facilitatorId":6,"id":null,"intakePeriod":"HT1","isActive":true,"maxStudents":30,"modeId":1,"moduleId":2,"startDate":"2025-02-01T00:00:00.000Z","trimester":"T1","updatedAt":"2025-08-14T21:00:04.875Z"},"message":"course_offerings_unique_idx must be unique","origin":"DB","path":"course_offerings_unique_idx","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"2-2-2-T1-HT1"}],"fields":{"course_offerings_unique_idx":"2-2-2-T1-HT1"},"level":"error","message":"Create course offering error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[2,6,2,2,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 21:00:04","2025-08-14 21:00:04"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Duplicate entry '2-2-2-T1-HT1' for key 'course_offerings.course_offerings_unique_idx'","sqlState":"23000"},"parent":{"code":"ER_DUP_ENTRY","errno":1062,"parameters":[2,6,2,2,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 21:00:04","2025-08-14 21:00:04"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Duplicate entry '2-2-2-T1-HT1' for key 'course_offerings.course_offerings_unique_idx'","sqlState":"23000"},"service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\work\\controllers\\courseOfferingController.js:12:28)","timestamp":"2025-08-14T21:00:04.937Z"}
{"fields":["facilitatorId"],"index":"course_offerings_ibfk_2","level":"error","message":"Create course offering error: Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_2` FOREIGN KEY (`facilitatorId`) REFERENCES `facilitators` (`id`) ON UPDATE CASCADE)","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[2,7,2,1,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 21:00:16","2025-08-14 21:00:16"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_2` FOREIGN KEY (`facilitatorId`) REFERENCES `facilitators` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"parameters":[2,7,2,1,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 21:00:16","2025-08-14 21:00:16"],"parent":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[2,7,2,1,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 21:00:16","2025-08-14 21:00:16"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_2` FOREIGN KEY (`facilitatorId`) REFERENCES `facilitators` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"reltype":"child","service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\work\\controllers\\courseOfferingController.js:12:28)","table":"facilitators","timestamp":"2025-08-14T21:00:16.982Z","value":7}
{"fields":["facilitatorId"],"index":"course_offerings_ibfk_2","level":"error","message":"Create course offering error: Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_2` FOREIGN KEY (`facilitatorId`) REFERENCES `facilitators` (`id`) ON UPDATE CASCADE)","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[2,7,1,1,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 21:00:25","2025-08-14 21:00:25"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_2` FOREIGN KEY (`facilitatorId`) REFERENCES `facilitators` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"parameters":[2,7,1,1,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 21:00:25","2025-08-14 21:00:25"],"parent":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"parameters":[2,7,1,1,1,"T1","HT1","2025-02-01 00:00:00","2025-03-01 00:00:00",30,5,true,"2025-08-14 21:00:25","2025-08-14 21:00:25"],"sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`course_allocation_system`.`course_offerings`, CONSTRAINT `course_offerings_ibfk_2` FOREIGN KEY (`facilitatorId`) REFERENCES `facilitators` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"reltype":"child","service":"course-allocation-system","sql":"INSERT INTO `course_offerings` (`id`,`moduleId`,`facilitatorId`,`cohortId`,`classId`,`modeId`,`trimester`,`intakePeriod`,`startDate`,`endDate`,`maxStudents`,`createdBy`,`isActive`,`createdAt`,`updatedAt`) VALUES (DEFAULT,?,?,?,?,?,?,?,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at F:\\Downloads\\work\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async CourseOffering.create (F:\\Downloads\\work\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async createCourseOffering (F:\\Downloads\\work\\controllers\\courseOfferingController.js:12:28)","table":"facilitators","timestamp":"2025-08-14T21:00:25.862Z","value":7}
{"level":"info","message":"Course offering 9 deleted by manager 5","service":"course-allocation-system","timestamp":"2025-08-14T21:00:58.370Z"}
{"level":"info","message":"User mark@example.com logged in successfully as facilitator","service":"course-allocation-system","timestamp":"2025-08-14T21:03:25.502Z"}
{"level":"info","message":"Activity tracker 4 updated by user 5","service":"course-allocation-system","timestamp":"2025-08-14T21:08:33.357Z"}
{"level":"error","message":"Create activity tracker error: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","service":"course-allocation-system","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (F:\\Downloads\\work\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:343:12)","timestamp":"2025-08-14T21:09:36.744Z"}
